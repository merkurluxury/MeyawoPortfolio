
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/AdminLayout/_Layout.cshtml";
}

@{
    var projectCount = ViewBag.flutterProjectCount;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cards and Chart</title>
    <!-- Bootstrap 5 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .info-card {
            transition: transform .2s; /* Animation */
            display: flex;
            flex-direction: column;
        }

            .info-card:hover {
                transform: scale(1.05); /* Zoom effect */
                box-shadow: 0 0 10px rgba(0,0,0,0.15);
            }

        .icon-bg {
            font-size: 24px; /* Icon size */
            padding: 20px;
            border-radius: 50%;
            color: #fff;
            margin-bottom: 15px;
        }

        .card-body {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: between;
        }

        .card {
            height: 100%; /* Make cards of equal height */
        }
    </style>
</head>
<body>

    <div class="container py-5">
        <div class="row row-cols-1 row-cols-md-4 g-4">
            <div class="col">
                <div class="card text-white bg-primary mb-3 info-card">
                    <div class="card-header"><i class="fas fa-folder-open icon-bg"></i>Kategori Sayısı</div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@ViewBag.categoryCount</h5>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card text-white bg-success mb-3 info-card">
                    <div class="card-header"><i class="fas fa-code-branch icon-bg"></i>Proje Sayısı</div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@ViewBag.projectCount</h5>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card text-white bg-info mb-3 info-card">
                    <div class="card-header"><i class="fas fa-project-diagram icon-bg"></i>Son Proje</div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@ViewBag.lastProjectName</h5>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card text-white bg-danger mb-3 info-card">
                    <div class="card-header"><i class="fas fa-envelope-open-text icon-bg"></i>Okunmamış Mesaj Sayısı</div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">@ViewBag.isNotReadMessageCount</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart Container -->
    <div class="mt-5">
        <h2 class="text-center mb-4">Proje İstatistikleri</h2>
        <canvas id="dashboardChart"></canvas>
    </div>
    </div>

    <script>
var ctx = document.getElementById('dashboardChart').getContext('2d');
var dashboardChart = new Chart(ctx, {
    type: 'bar', // Bu 'line', 'pie', 'bar' vb. olabilir.
    data: {
        labels: ["Kategori Sayısı", "Proje Sayısı", "Mesaj Sayısı", "Flutter Proje Sayısı", "Okunmamış Mesaj Sayısı"],
        datasets: [{
            label: 'Toplam Sayılar',
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
            ],
            borderWidth: 1,
            data: [@Html.Raw(ViewBag.categoryCount), @Html.Raw(ViewBag.projectCount), @Html.Raw(ViewBag.messageCount), @Html.Raw(ViewBag.flutterProjectCount), @Html.Raw(ViewBag.isNotReadMessageCount)]
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
</html>